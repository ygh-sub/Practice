# カロリー計算 Web アプリ 作業指示書（Laravel + React, TDD）

## 目的

- 食事ごとのカロリーを記録・合計し、1 日の摂取カロリーを簡単に把握できる Web アプリを作成する。
- テスト駆動開発（TDD）で進めること。

---

## 開発フロー

### 1. 要件定義

- [ ] ユーザーが食事内容とカロリーを入力できること
- [ ] 入力したデータを一覧で表示できること
- [ ] 1 日の合計カロリーを自動計算して表示できること
- [ ] データを保存し、再ログインしても利用できること
- [ ] UI はシンプルでレスポンシブ対応（PC/スマホ）

---

### 2. 設計

- [ ] 技術スタック

  - バックエンド: **Laravel** (REST API)
  - フロントエンド: **React + Vite**
  - データベース: MySQL または SQLite
  - テスト: PHPUnit (Laravel), Jest/React Testing Library (React)

- [ ] 画面設計

  - 食事入力フォーム
  - カロリー一覧表示
  - 1 日の合計カロリー表示

- [ ] データモデル
  - `meals` テーブル
    - id (PK)
    - name (string) - 食事名
    - calories (integer) - カロリー
    - date (date) - 日付
    - created_at / updated_at

---

### 3. 実装（TDD フロー）

1. **テスト作成**
   - バックエンド：Meal モデルの CRUD テスト (PHPUnit)
   - フロントエンド：フォーム入力・表示・合計計算のテスト (Jest)
2. **実装**
   - 最小限のコードを書いてテストを通す
3. **リファクタリング**
   - コードを整理、可読性を高める
4. **テスト再実行**
   - すべてのテストが通ることを確認

---

### 4. バックエンド（Laravel）

- [ ] Meal モデルとマイグレーション作成
- [ ] MealController 作成（API: index, store, update, delete）
- [ ] API ルーティング設定
- [ ] PHPUnit で API テスト作成（CRUD 動作確認）

---

### 5. フロントエンド（React）

- [ ] プロジェクトセットアップ（Vite + React）
- [ ] API クライアント実装（Axios）
- [ ] 食事入力フォーム作成（テスト付き）
- [ ] 一覧表示コンポーネント作成（テスト付き）
- [ ] 合計カロリー表示コンポーネント作成（テスト付き）
- [ ] UI のスタイリング（Tailwind CSS 推奨）

---

### 6. テスト

- **バックエンド**
  - [ ] Meal モデルの保存/取得/削除テスト
  - [ ] Meal API の統合テスト
- **フロントエンド**
  - [ ] 入力フォームの単体テスト
  - [ ] API 通信のモックテスト
  - [ ] 合計カロリー計算のテスト
- **結合テスト**
  - [ ] フロント →API→DB の一連動作確認

---

### 7. ドキュメント作成

- [ ] README.md にセットアップ手順を明記
  - Laravel 側の起動方法
  - React 側の起動方法
  - テスト実行手順
- [ ] 機能一覧とスクリーンショット

---

### 8. 完了確認

- [ ] 要件がすべて満たされているか
- [ ] 全テストがグリーンであること
- [ ] コードがリファクタリング済みであること
- [ ] README が整備されていること

---

## 今後の拡張アイデア（任意）

- 栄養素（タンパク質・脂質・炭水化物）の記録
- グラフ表示（Recharts など）
- 認証機能（Laravel Sanctum + React）
- 食品データベース API との連携
